<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- Google Tag Manager (GA4) - ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù„Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-482MR7LT23"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-482MR7LT23');
    </script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙƒÙ…Ø´ÙƒØ§Ø© | Kameshkah</title>
    
    <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„ØªØ§Ø¨Ø© (Favicon) -->
    <link rel="icon" href="logo.png" type="image/png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Cairo', sans-serif; }
        .hidden-section { display: none !important; }
        .fade-in { animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1); }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙÙ„ØªØ± */
        .filter-btn {
            transition: all 0.3s ease;
        }
        .filter-btn.active {
            background-color: #059669; 
            color: white;
            border-color: #059669;
            box-shadow: 0 4px 6px -1px rgba(5, 150, 105, 0.3);
        }
        
        .filters-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
            padding-bottom: 10px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ø¸Ù„ */
        }
        .filters-container::-webkit-scrollbar {
            display: none;
        }
        .article-content p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-size: 1.1rem;
            color: #374151;
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„ÙŠ Ø§Ù„Ù‚ÙˆÙŠ (Ù„Ù„ÙƒÙˆØ±Ø³Ø§Øª ÙˆØ§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©) */
        .glass-panel {
            background: rgba(255, 255, 255, 0.65); /* Ø´ÙØ§ÙÙŠØ© Ø£ÙƒØ¨Ø± */
            backdrop-filter: blur(20px) saturate(180%); /* ØªÙ…ÙˆÙŠÙ‡ Ù‚ÙˆÙŠ ÙˆØªØ´Ø¨Ø¹ Ø£Ù„ÙˆØ§Ù† */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.4); /* Ø­Ø¯ÙˆØ¯ ÙˆØ§Ø¶Ø­Ø© */
            border-top: 1px solid rgba(255, 255, 255, 0.7); /* Ù„Ù…Ø¹Ø© Ø¹Ù„ÙˆÙŠØ© Ù‚ÙˆÙŠØ© */
            border-left: 1px solid rgba(255, 255, 255, 0.7); /* Ù„Ù…Ø¹Ø© Ø¬Ø§Ù†Ø¨ÙŠØ© Ù‚ÙˆÙŠØ© */
            box-shadow: 
                0 8px 32px 0 rgba(31, 38, 135, 0.15), /* Ø¸Ù„ Ø®Ø§Ø±Ø¬ÙŠ Ø¹Ù…ÙŠÙ‚ */
                inset 0 0 0 1px rgba(255, 255, 255, 0.1); /* Ø¸Ù„ Ø¯Ø§Ø®Ù„ÙŠ Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø¹Ù…Ù‚ */
        }

        /* ÙƒÙ„Ø§Ø³ Ù„Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙˆØ§Ù„ÙƒØªØ¨ (Ø¨Ø¯ÙˆÙ† Ø²Ø¬Ø§Ø¬ - Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ ØµØ±ÙŠØ­Ø©) */
        .solid-card {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù„Ø§ÙŠØª Ø¨ÙˆÙƒØ³ (ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø©) */
        #lightbox {
            transition: opacity 0.3s ease;
        }
        #lightbox.hidden {
            opacity: 0;
            pointer-events: none;
        }
        #lightbox:not(.hidden) {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ù‚Ù„Ø¨ */
        @keyframes heart-pump {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        .heart-active {
            color: #ef4444 !important; /* Ø£Ø­Ù…Ø± */
            fill: #ef4444 !important;
            animation: heart-pump 0.3s ease-in-out;
        }
    </style>
</head>
<body class="text-slate-800 min-h-screen relative">

    <!-- Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø«Ø§Ø¨ØªØ© -->
    <div class="fixed inset-0 z-[-1]">
        <img src="bg.jpg" alt="Background" class="w-full h-full object-cover" onerror="this.style.display='none'; document.body.classList.add('bg-slate-50')">
        <div class="absolute inset-0 bg-slate-900/20"></div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø© (Lightbox) -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm hidden flex items-center justify-center p-4" onclick="closeLightbox()">
        <button class="absolute top-4 right-4 text-white hover:text-emerald-400 transition" onclick="closeLightbox()">
            <i data-lucide="x" class="w-10 h-10"></i>
        </button>
        <img id="lightbox-img" src="" alt="Full View" class="max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl" onclick="event.stopPropagation()">
        <a id="lightbox-download" href="#" download class="absolute bottom-8 bg-emerald-600 text-white px-6 py-3 rounded-full font-bold flex items-center gap-2 hover:bg-emerald-700 transition shadow-lg" onclick="event.stopPropagation()">
            <i data-lucide="download" class="w-5 h-5"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
        </a>
    </div>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full glass-panel z-50 text-white !bg-emerald-900/80 !border-b-emerald-800/30 !rounded-none !border-x-0 !border-t-0">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-20">
                <div onclick="showPage('home')" class="flex items-center gap-3 cursor-pointer group select-none">
                    <img src="logo.png" alt="Ø´Ø¹Ø§Ø± ÙƒÙ…Ø´ÙƒØ§Ø©" class="w-12 h-12 object-contain transform group-hover:rotate-6 transition-transform drop-shadow-md bg-white/90 rounded-lg p-1">
                    <span class="text-2xl font-bold tracking-wide">ÙƒÙ…Ø´ÙƒØ§Ø©</span>
                </div>

                <div class="hidden md:flex items-center gap-2 bg-emerald-800/40 backdrop-blur p-1.5 rounded-full border border-emerald-500/30">
                    <button onclick="showPage('home')" class="nav-btn px-4 py-2 rounded-full text-sm font-bold transition-all" data-page="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    <button onclick="showPage('courses')" class="nav-btn px-4 py-2 rounded-full text-sm font-bold transition-all" data-page="courses">ÙƒÙˆØ±Ø³Ø§Øª</button>
                    <button onclick="showPage('gallery')" class="nav-btn px-4 py-2 rounded-full text-sm font-bold transition-all" data-page="gallery">ØªØµÙ…ÙŠÙ…</button>
                    <button onclick="showPage('articles')" class="nav-btn px-4 py-2 rounded-full text-sm font-bold transition-all" data-page="articles">Ù…Ù‚Ø§Ù„Ø§Øª</button>
                    <!-- Ø²Ø± Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
                    <button onclick="showPage('library')" class="nav-btn px-4 py-2 rounded-full text-sm font-bold transition-all" data-page="library">Ù…ÙƒØªØ¨Ø©</button>
                    <button onclick="showPage('contact')" class="nav-btn px-4 py-2 rounded-full text-sm font-bold transition-all" data-page="contact">ØªÙˆØ§ØµÙ„</button>
                </div>

                <button class="md:hidden p-2 hover:bg-emerald-800 rounded-lg transition" onclick="toggleMobileMenu()">
                    <i data-lucide="menu" class="w-7 h-7"></i>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden glass-panel !bg-emerald-900/95 !rounded-none border-t border-emerald-800 p-4 space-y-2 shadow-xl absolute w-full z-40">
            <button onclick="showPage('home')" class="block w-full text-right px-4 py-3 rounded-lg hover:bg-emerald-800 transition text-emerald-50 font-bold">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <button onclick="showPage('courses')" class="block w-full text-right px-4 py-3 rounded-lg hover:bg-emerald-800 transition text-emerald-50 font-bold">ÙƒÙˆØ±Ø³Ø§Øª ØªØ¹Ù„ÙŠÙ…ÙŠØ©</button>
            <button onclick="showPage('gallery')" class="block w-full text-right px-4 py-3 rounded-lg hover:bg-emerald-800 transition text-emerald-50 font-bold">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</button>
            <button onclick="showPage('articles')" class="block w-full text-right px-4 py-3 rounded-lg hover:bg-emerald-800 transition text-emerald-50 font-bold">Ù…Ù‚Ø§Ù„Ø§Øª</button>
            <button onclick="showPage('library')" class="block w-full text-right px-4 py-3 rounded-lg hover:bg-emerald-800 transition text-emerald-50 font-bold">Ù…ÙƒØªØ¨Ø© Ø§Ù„ÙƒØªØ¨</button>
            <button onclick="showPage('contact')" class="block w-full text-right px-4 py-3 rounded-lg hover:bg-emerald-800 transition text-emerald-50 font-bold">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-28 pb-12 px-4 container mx-auto max-w-7xl min-h-screen">

        <!-- 1. Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="home" class="page-section fade-in">
            <div class="glass-panel rounded-3xl p-8 md:p-20 text-center relative overflow-hidden mb-8">
                <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-300/30 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
                <div class="absolute bottom-0 left-0 w-64 h-64 bg-teal-300/30 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"></div>
                
                <div class="relative z-10">
                    <h1 class="text-4xl md:text-7xl font-black text-emerald-800 mb-6 leading-tight drop-shadow-sm tracking-tight">
                        ÙƒÙ…Ø´ÙƒØ§Ø©
                    </h1>
                    <p class="text-xl md:text-2xl text-slate-700 max-w-3xl mx-auto mb-10 leading-relaxed font-bold drop-shadow-sm">
                        Ø§Ø³ØªØ¹Ù† Ø¨Ø§Ù„Ù„Ù‡ ÙˆÙ„Ø§ ØªØ¹Ø¬Ø²
                    </p>
                    <div class="flex flex-col sm:flex-row justify-center gap-4">
                        <button onclick="showPage('courses')" class="bg-emerald-700 text-white px-10 py-4 rounded-2xl font-bold text-lg hover:bg-emerald-800 hover:-translate-y-1 transition shadow-lg shadow-emerald-900/20">Ø´ÙˆÙ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</button>
                        <button onclick="showPage('gallery')" class="glass-panel text-emerald-900 px-10 py-4 rounded-2xl font-bold text-lg hover:bg-white/80 hover:-translate-y-1 transition shadow-sm border-emerald-100">ØªØµÙØ­ Ø§Ù„Ù…Ø¹Ø±Ø¶</button>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="glass-panel p-8 rounded-3xl text-center transform hover:scale-105 transition-transform duration-300">
                    <div class="text-5xl font-black text-emerald-700 mb-2 counter" data-target="846">0</div>
                    <div class="text-slate-600 font-bold text-lg">Ø²Ø§Ø¦Ø± Ù„Ù„Ù…ÙˆÙ‚Ø¹</div>
                </div>
                <div class="glass-panel p-8 rounded-3xl text-center transform hover:scale-105 transition-transform duration-300">
                    <div class="text-5xl font-black text-emerald-700 mb-2 counter" data-target="264">0</div>
                    <div class="text-slate-600 font-bold text-lg">ÙƒÙˆØ±Ø³ ØªØ¹Ù„ÙŠÙ…ÙŠ</div>
                </div>
                <div class="glass-panel p-8 rounded-3xl text-center transform hover:scale-105 transition-transform duration-300">
                    <div class="text-5xl font-black text-emerald-700 mb-2 counter" data-target="5">0</div>
                    <div class="text-slate-600 font-bold text-lg">Ù…Ù‚Ø§Ù„ Ø­ØµØ±ÙŠ</div>
                </div>
            </div>
        </div>

        <!-- 2. Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª -->
        <div id="courses" class="page-section hidden-section fade-in">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                <div class="flex items-center gap-4 glass-panel px-6 py-3 rounded-2xl">
                    <div class="w-2 h-10 bg-emerald-500 rounded-full"></div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h2>
                </div>
                
                <div class="relative w-full md:w-96">
                    <input type="text" id="course-search-input" onkeyup="filterCourses()" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒÙˆØ±Ø³ (ØªØµÙ…ÙŠÙ…ØŒ Ø¨Ø±Ù…Ø¬Ø©...)" 
                           class="w-full pl-4 pr-12 py-3 rounded-xl border border-white/50 bg-white/70 backdrop-blur focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all shadow-sm placeholder-slate-500 text-slate-800">
                    <i data-lucide="search" class="absolute right-4 top-3.5 text-slate-500 w-5 h-5"></i>
                </div>
            </div>

            <div id="course-category-filters" class="filters-container flex overflow-x-auto pb-4 gap-3 mb-4 whitespace-nowrap">
                <button onclick="filterCoursesByCategory('Ø§Ù„ÙƒÙ„')" class="filter-btn active px-6 py-2 rounded-full border border-white/50 bg-white/70 backdrop-blur text-slate-700 font-bold hover:bg-white transition-colors flex-shrink-0 shadow-sm">Ø§Ù„ÙƒÙ„</button>
            </div>
            
            <div id="courses-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 min-h-[300px]"></div>
        </div>

        <!-- 3. Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± -->
        <div id="gallery" class="page-section hidden-section fade-in">
            <div class="text-center mb-12">
                <div class="inline-block glass-panel px-10 py-5 rounded-full shadow-lg">
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-1">ØªØµÙ…ÙŠÙ… ÙƒÙ…Ø´ÙƒØ§Ø©</h2>
                    <p class="text-slate-600 font-medium">Ù…ÙƒØªØ¨Ø© Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© (Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„ØªÙƒØ¨ÙŠØ±)</p>
                </div>
            </div>
            
            <div id="gallery-grid" class="columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6"></div>

            <div class="text-center mt-12">
                <button id="load-more-btn" onclick="loadMoreImages()" class="group glass-panel !bg-slate-800/90 text-white px-10 py-4 rounded-xl font-bold hover:!bg-slate-700 transition shadow-xl flex items-center justify-center gap-3 mx-auto disabled:opacity-50 disabled:cursor-not-allowed border-none">
                    <span>ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯</span>
                    <i data-lucide="arrow-down" class="w-5 h-5 group-hover:translate-y-1 transition-transform"></i>
                </button>
                <p id="gallery-status" class="mt-4 text-white text-sm font-bold shadow-sm drop-shadow-md"></p>
            </div>
        </div>

        <!-- 4. Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª -->
        <div id="articles" class="page-section hidden-section fade-in">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                <!-- Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ø¯ÙˆÙ† Ø²Ø¬Ø§Ø¬ (Ø£Ø¨ÙŠØ¶) -->
                <div class="flex items-center gap-4 bg-white px-6 py-3 rounded-2xl shadow-md border border-slate-200">
                    <div class="w-2 h-10 bg-emerald-500 rounded-full"></div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</h2>
                </div>
                
                <div class="relative w-full md:w-96">
                    <input type="text" id="article-search-input" onkeyup="filterArticles()" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª..." 
                           class="w-full pl-4 pr-12 py-3 rounded-xl border border-slate-200 bg-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all shadow-sm text-slate-800">
                    <i data-lucide="search" class="absolute right-4 top-3.5 text-slate-400 w-5 h-5"></i>
                </div>
            </div>

            <div id="article-category-filters" class="filters-container flex overflow-x-auto pb-4 gap-3 mb-4 whitespace-nowrap">
                <button onclick="filterArticlesByCategory('Ø§Ù„ÙƒÙ„')" class="filter-btn active px-6 py-2 rounded-full border border-slate-200 bg-white text-slate-700 font-bold hover:bg-slate-50 transition-colors flex-shrink-0 shadow-sm">Ø§Ù„ÙƒÙ„</button>
            </div>

            <div id="articles-grid" class="space-y-6"></div>
        </div>

        <!-- 4.1. ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„ÙˆØ§Ø­Ø¯ -->
        <div id="article-view" class="page-section hidden-section fade-in">
            <div class="max-w-4xl mx-auto">
                <button onclick="showPage('articles')" class="mb-6 flex items-center gap-2 text-white bg-slate-800/50 backdrop-blur px-4 py-2 rounded-xl hover:bg-emerald-600 transition font-bold shadow-md hover:shadow-lg border border-white/20">
                    <i data-lucide="arrow-right" class="w-5 h-5"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…Ù‚Ø§Ù„Ø§Øª
                </button>
                
                <div class="bg-white rounded-3xl overflow-hidden shadow-2xl border border-slate-200">
                    <div class="h-64 md:h-96 w-full relative">
                        <img id="article-view-image" src="" alt="Article Cover" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/90 to-transparent flex items-end">
                            <div class="p-8 md:p-12 w-full">
                                <div class="flex items-center gap-3 mb-3">
                                    <span id="article-view-category" class="bg-emerald-500 text-white px-3 py-1 rounded-full text-sm font-bold inline-block shadow-lg"></span>
                                    <span id="article-view-date" class="bg-white/20 backdrop-blur text-white px-3 py-1 rounded-full text-sm font-bold inline-block border border-white/30"></span>
                                </div>
                                <h1 id="article-view-title" class="text-3xl md:text-5xl font-bold text-white leading-tight drop-shadow-md"></h1>
                                <p class="text-emerald-100 text-sm mt-2 font-bold flex items-center gap-2"><i data-lucide="user" class="w-4 h-4"></i> Ø¨Ù‚Ù„Ù…: Ù…ØµØ·ÙÙ‰ ÙƒÙ…Ø´ÙƒØ§Ø©</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-8 md:p-12">
                        <div id="article-view-content" class="article-content text-slate-800 leading-loose text-lg"></div>
                        
                        <div class="mt-12 pt-8 border-t border-slate-200 flex justify-between items-center">
                            <span class="text-slate-500 font-bold">Ù‡Ù„ Ø£Ø¹Ø¬Ø¨Ùƒ Ø§Ù„Ù…Ù‚Ø§Ù„ØŸ</span>
                            <div class="flex gap-2">
                                <button id="article-share-btn" class="p-3 bg-slate-100 rounded-full hover:bg-emerald-100 hover:text-emerald-600 transition" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù‚Ø§Ù„">
                                    <i data-lucide="share-2" class="w-5 h-5"></i>
                                </button>
                                <button id="article-heart-btn" class="p-3 bg-slate-100 rounded-full hover:bg-red-100 hover:text-red-600 transition" title="Ø£Ø­Ø¨Ø¨ØªÙ‡">
                                    <i data-lucide="heart" class="w-5 h-5"></i> <span class="text-sm font-bold ml-1"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. Ø§Ù„Ù…ÙƒØªØ¨Ø© (Ø¬Ø¯ÙŠØ¯) -->
        <div id="library" class="page-section hidden-section fade-in">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                <div class="flex items-center gap-4 bg-white px-6 py-3 rounded-2xl shadow-md border border-slate-200">
                    <div class="w-2 h-10 bg-blue-500 rounded-full"></div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Ù…ÙƒØªØ¨Ø© ÙƒÙ…Ø´ÙƒØ§Ø©</h2>
                </div>
                
                <div class="relative w-full md:w-96">
                    <input type="text" id="library-search-input" onkeyup="filterBooks()" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨..." 
                           class="w-full pl-4 pr-12 py-3 rounded-xl border border-slate-200 bg-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all shadow-sm text-slate-800">
                    <i data-lucide="search" class="absolute right-4 top-3.5 text-slate-400 w-5 h-5"></i>
                </div>
            </div>

            <div id="library-category-filters" class="filters-container flex overflow-x-auto pb-4 gap-3 mb-4 whitespace-nowrap">
                <button onclick="filterBooksByCategory('Ø§Ù„ÙƒÙ„')" class="filter-btn active px-6 py-2 rounded-full border border-slate-200 bg-white text-slate-700 font-bold hover:bg-slate-50 transition-colors flex-shrink-0 shadow-sm">Ø§Ù„ÙƒÙ„</button>
            </div>

            <div id="library-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>

        <!-- 5.1. ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„ÙˆØ§Ø­Ø¯ (Ø¬Ø¯ÙŠØ¯) -->
        <div id="book-view" class="page-section hidden-section fade-in">
             <div class="max-w-4xl mx-auto">
                <button onclick="showPage('library')" class="mb-6 flex items-center gap-2 text-white bg-slate-800/50 backdrop-blur px-4 py-2 rounded-xl hover:bg-blue-600 transition font-bold shadow-md hover:shadow-lg border border-white/20">
                    <i data-lucide="arrow-right" class="w-5 h-5"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ÙƒØªØ¨Ø©
                </button>
                
                <div class="bg-white rounded-3xl overflow-hidden shadow-2xl border border-slate-200 flex flex-col md:flex-row">
                    <div class="w-full md:w-1/3 bg-slate-100 p-8 flex items-center justify-center">
                        <img id="book-view-image" src="" alt="Book Cover" class="w-3/4 h-auto object-cover rounded-lg shadow-2xl transform hover:scale-105 transition-transform duration-500">
                    </div>
                    <div class="w-full md:w-2/3 p-8 md:p-12">
                        <span id="book-view-category" class="bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full font-bold mb-4 inline-block"></span>
                        <h1 id="book-view-title" class="text-3xl md:text-4xl font-bold text-slate-800 mb-4 leading-tight"></h1>
                        <p class="text-slate-500 mb-8 leading-relaxed" id="book-view-description"></p>
                        
                        <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100 mb-8">
                            <h3 class="font-bold text-slate-800 mb-2 flex items-center gap-2"><i data-lucide="gift" class="w-5 h-5 text-blue-500"></i> Ù‡Ø¯Ø§ÙŠØ© ÙƒÙ…Ø´ÙƒØ§Ø©:</h3>
                            <p class="text-sm text-slate-600" id="book-view-gift-info"></p>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-4">
                            <a id="book-download-btn" href="#" target="_blank" class="flex-1 bg-blue-600 text-white px-6 py-3.5 rounded-xl font-bold text-center hover:bg-blue-700 transition shadow-lg flex items-center justify-center gap-2">
                                <i data-lucide="download" class="w-5 h-5"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨
                            </a>
                             <a id="book-telegram-btn" href="https://t.me/Kmshkat" target="_blank" class="flex-1 bg-sky-500 text-white px-6 py-3.5 rounded-xl font-bold text-center hover:bg-sky-600 transition shadow-lg flex items-center justify-center gap-2">
                                <i data-lucide="send" class="w-5 h-5"></i> ØªØ­Ù…ÙŠÙ„ Ù…Ù† ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 6. ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ (ÙƒØ§Ù† Ø±Ù‚Ù… 5) -->
        <div id="contact" class="page-section hidden-section fade-in">
            <div class="max-w-5xl mx-auto">
                <div class="glass-panel rounded-3xl overflow-hidden !border-white/60 shadow-2xl">
                    <div class="bg-gradient-to-r from-emerald-800 to-teal-900 h-48 relative">
                        <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                        <div class="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white/10 to-transparent"></div>
                    </div>
                    
                    <div class="p-8 md:p-12 text-center -mt-24 relative z-10">
                        <div class="w-40 h-40 bg-white/80 backdrop-blur rounded-full mx-auto p-1.5 shadow-2xl flex items-center justify-center mb-6 relative group border border-white/50">
                            <div class="w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-emerald-800 overflow-hidden relative">
                                <i data-lucide="user" class="w-20 h-20"></i>
                            </div>
                            <div class="absolute bottom-2 right-2 bg-emerald-500 text-white p-2 rounded-full border-4 border-white shadow-sm" title="Verified Creator">
                                <i data-lucide="check" class="w-4 h-4"></i>
                            </div>
                        </div>
                        
                        <h2 class="text-4xl md:text-5xl font-bold text-slate-800 mb-2">Ù…ØµØ·ÙÙ‰ Ø¹Ø¨Ø¯ Ø§Ù„Ù†Ø§ØµØ±</h2>
                        <p class="text-emerald-600 font-bold text-xl mb-4 tracking-wide flex items-center justify-center gap-2">
                            <i data-lucide="pen-tool" class="w-5 h-5"></i>
                            Graphic Designer & Content Creator
                        </p>
                        <p class="text-slate-500 max-w-2xl mx-auto mb-10 text-lg leading-relaxed">
                            Ù…ØµØ·ÙÙŠ Ø¹Ø¨Ø¯ Ø§Ù„Ù†Ø§ØµØ± "ÙƒÙ…Ø´ÙƒØ§Ø©" ØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙŠ ÙƒÙ…Ø´ÙƒØ§Ø© ÙˆÙ…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ <br> ÙƒÙ…Ø´ÙƒØ§Ø© Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø§Ù„ØªÙˆÙÙŠÙ‚
                        </p>

                        <div class="mb-12">
                            <h3 class="text-2xl font-bold text-slate-800 mb-6 flex items-center justify-center gap-2">
                                <span class="w-8 h-1 bg-emerald-500 rounded-full"></span>
                                ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ (Ø´Ø®ØµÙŠ)
                                <span class="w-8 h-1 bg-emerald-500 rounded-full"></span>
                            </h3>
                            <div class="flex flex-wrap justify-center gap-4">
                                <a href="https://www.facebook.com/MostafaKmshkat" target="_blank" class="p-4 bg-blue-50/80 text-blue-700 rounded-2xl hover:bg-blue-600 hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="Facebook">
                                    <i data-lucide="facebook" class="w-6 h-6"></i>
                                </a>
                                <a href="https://www.instagram.com/mostafakmshkat/" target="_blank" class="p-4 bg-pink-50/80 text-pink-600 rounded-2xl hover:bg-pink-600 hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="Instagram">
                                    <i data-lucide="instagram" class="w-6 h-6"></i>
                                </a>
                                <a href="https://x.com/Mostafakamishka" target="_blank" class="p-4 bg-slate-50/80 text-slate-700 rounded-2xl hover:bg-black hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="X (Twitter)">
                                    <i data-lucide="twitter" class="w-6 h-6"></i>
                                </a>
                                <a href="https://www.linkedin.com/in/mostafakamishka" target="_blank" class="p-4 bg-sky-50/80 text-sky-700 rounded-2xl hover:bg-sky-700 hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="LinkedIn">
                                    <i data-lucide="linkedin" class="w-6 h-6"></i>
                                </a>
                                <a href="https://www.behance.net/mostafaabdelnasser" target="_blank" class="p-4 bg-blue-50/80 text-blue-900 rounded-2xl hover:bg-blue-900 hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="Behance">
                                    <span class="font-bold text-lg leading-none">Be</span>
                                </a>
                                <a href="https://www.tiktok.com/@mostafakamishkaa?is_from_webapp=1&sender_device=pc" target="_blank" class="p-4 bg-slate-50/80 text-black rounded-2xl hover:bg-black hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="TikTok">
                                    <span class="font-bold text-lg leading-none">Tik</span>
                                </a>
                                <a href="https://t.me/Mostafa_Kmshkat" target="_blank" class="p-4 bg-sky-50/80 text-sky-500 rounded-2xl hover:bg-sky-500 hover:text-white transition-all hover:-translate-y-1 shadow-sm group glass-panel" title="Telegram (Personal)">
                                    <i data-lucide="send" class="w-6 h-6"></i>
                                </a>
                            </div>
                        </div>
                        
                        <div class="glass-panel !bg-slate-50/50 rounded-3xl p-8 border border-slate-200/50">
                            <h3 class="text-2xl font-bold text-slate-800 mb-6 flex items-center justify-center gap-2">
                                <i data-lucide="users" class="text-emerald-600"></i>
                                Ù…Ø¬ØªÙ…Ø¹ ÙƒÙ…Ø´ÙƒØ§Ø© Ø§Ù„Ø±Ø³Ù…ÙŠ
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-3xl mx-auto">
                                <a href="https://t.me/Kmshkat" target="_blank" class="flex items-center gap-4 p-4 bg-white/70 rounded-2xl border border-slate-200 hover:border-sky-400 hover:shadow-md transition-all group text-right glass-panel hover:!bg-white">
                                    <div class="bg-sky-100/80 p-3 rounded-xl text-sky-600 group-hover:bg-sky-500 group-hover:text-white transition-colors">
                                        <i data-lucide="send" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-slate-800">Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</h4>
                                        <p class="text-xs text-slate-500">Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰</p>
                                    </div>
                                </a>

                                <a href="https://t.me/Kamshka_Communtiy" target="_blank" class="flex items-center gap-4 p-4 bg-white/70 rounded-2xl border border-slate-200 hover:border-indigo-400 hover:shadow-md transition-all group text-right glass-panel hover:!bg-white">
                                    <div class="bg-indigo-100/80 p-3 rounded-xl text-indigo-600 group-hover:bg-indigo-500 group-hover:text-white transition-colors">
                                        <i data-lucide="messages-square" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-slate-800">Ø¬Ø±ÙˆØ¨ Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª</h4>
                                        <p class="text-xs text-slate-500">Ø´Ø§Ø±ÙƒÙ†Ø§ Ø±Ø£ÙŠÙƒ ÙˆØ§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ</p>
                                    </div>
                                </a>

                                <a href="https://www.facebook.com/profile.php?id=61583541613263&locale=ar_AR" target="_blank" class="flex items-center gap-4 p-4 bg-white/70 rounded-2xl border border-slate-200 hover:border-blue-600 hover:shadow-md transition-all group text-right glass-panel hover:!bg-white">
                                    <div class="bg-blue-100/80 p-3 rounded-xl text-blue-700 group-hover:bg-blue-700 group-hover:text-white transition-colors">
                                        <i data-lucide="facebook" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-slate-800">ØµÙØ­Ø© Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ</h4>
                                        <p class="text-xs text-slate-500">ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ</p>
                                    </div>
                                </a>

                                <a href="https://www.instagram.com/kmshka.official/" target="_blank" class="flex items-center gap-4 p-4 bg-white/70 rounded-2xl border border-slate-200 hover:border-pink-500 hover:shadow-md transition-all group text-right glass-panel hover:!bg-white">
                                    <div class="bg-pink-100/80 p-3 rounded-xl text-pink-600 group-hover:bg-pink-500 group-hover:text-white transition-colors">
                                        <i data-lucide="instagram" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-slate-800">Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù… ÙƒÙ…Ø´ÙƒØ§Ø©</h4>
                                        <p class="text-xs text-slate-500">ÙƒÙˆØ§Ù„ÙŠØ³ ÙˆØµÙˆØ± Ø­ØµØ±ÙŠØ©</p>
                                    </div>
                                </a>
                                
                                <a href="https://x.com/KmshkaOfficial" target="_blank" class="flex items-center gap-4 p-4 bg-white/70 rounded-2xl border border-slate-200 hover:border-slate-800 hover:shadow-md transition-all group text-right md:col-span-2 glass-panel hover:!bg-white">
                                    <div class="bg-slate-100/80 p-3 rounded-xl text-slate-700 group-hover:bg-black group-hover:text-white transition-colors">
                                        <i data-lucide="twitter" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-slate-800">Ù…Ù†ØµØ© X</h4>
                                        <p class="text-xs text-slate-500">ØªØºØ±ÙŠØ¯Ø§Øª Ø³Ø±ÙŠØ¹Ø©</p>
                                    </div>
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-white/80 backdrop-blur border-t border-slate-200 py-10 text-center">
        <p class="text-slate-600 font-medium">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025 <span class="text-emerald-800 font-bold">Ù…ØµØ·ÙÙ‰ ÙƒÙ…Ø´ÙƒØ§Ø©</span></p>
    </footer>

    <script>
        // --- 1. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª ---
        // ... (Ù†ÙØ³ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
         const coursesData = [
          {
            "id": 1,
            "title": "Vibe Coding Camp: Github Copilot, Cursor, Lovable, Windsurf",
            "description": "ØªØ¹Ù„Ù… Ø£Ø­Ø¯Ø« Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©.",
            "image": "images/stock1_sq.jpg",
            "category": "Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
            "date": "28 Ù†ÙˆÙÙ…Ø¨Ø± 2025",
            "url": "https://www.udemy.com/course/vibe-coding-camp-github-copilot-cursor-lovable-windsurf/?couponCode=28NOVEMBER2025"
          },
          // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª ÙƒÙ…Ø§ Ù‡ÙŠ ...
        ];

        // --- 2. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ---
        // ... (Ù†ÙØ³ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
         const articlesData = [
          {
            "id": 1,
            "title": "ÙÙƒÙƒ Ù…Ù† Ø¬Ùˆ \"Ø£Ù†Øª ØªÙ†ÙŠÙ† Ù…Ø¬Ù†Ø­\".. ÙˆØ±ÙƒØ² ÙÙŠ Ø§Ù„Ù„ÙŠ ÙŠÙ†ÙØ¹Ùƒ ğŸ›‘",
            "excerpt": "ÙŠØ§ ØµØ§Ø­Ø¨ÙŠØŒ Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ Ù‡Ø±ØªÙ†Ø§ ÙƒÙ„Ø§Ù… Ø¹Ù† Ø¥Ù†Ùƒ Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† \"Ø³ÙˆØ¨Ø± Ù…Ø§Ù†\" ÙˆØ¥Ù†Ùƒ \"Ù…Ø­ÙˆØ± Ø§Ù„ÙƒÙˆÙ†\". Ø§Ù„ÙƒÙ„Ø§Ù… Ø¯Ù‡ Ø¨ÙŠÙ†ÙØ®Ùƒ Ø¹ Ø§Ù„ÙØ§Ø¶ÙŠØŒ ÙˆÙ„Ù…Ø§ ØªÙŠØ¬Ù€ÙŠ Ø¹ Ø§Ù„Ø£Ø±Ø¶ ØªØªØµØ¯Ù….",
            "content": "...",
            "date": "28 Ù†ÙˆÙÙ…Ø¨Ø± 2025",
            "image": "images/article1.jpg",
            "category": "ØªØ²ÙƒÙŠØ© ÙˆØªØ·ÙˆÙŠØ± Ø°Ø§Øª",
            "author": "Ù…ØµØ·ÙÙ‰ ÙƒÙ…Ø´ÙƒØ§Ø©",
            "url": "#"
          },
          // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ...
        ];

        // --- 3. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØªØ¨ (Ø¬Ø¯ÙŠØ¯) ---
        // Ù…Ø«Ø§Ù„ Ù„ÙƒØªØ§Ø¨ØŒ ØªÙ‚Ø¯Ø± ØªØ²ÙˆØ¯ ÙƒØªØ¨ Ø²ÙŠ Ù…Ø§ ØªØ­Ø¨
        const booksData = [
          {
            "id": 1,
            "title": "Ø¯Ù„ÙŠÙ„Ùƒ Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø± (Freelancing)",
            "description": "ÙƒØªØ§Ø¨ Ø´Ø§Ù…Ù„ Ø¨ÙŠØ´Ø±Ø­Ù„Ùƒ Ø¥Ø²Ø§ÙŠ ØªØ¨Ø¯Ø£ ÙØ±ÙŠÙ„Ø§Ù†Ø³ Ù…Ù† Ø§Ù„ØµÙØ±ØŒ ØªØ®ØªØ§Ø± Ù…Ø¬Ø§Ù„ÙƒØŒ ÙˆØªØ¬ÙŠØ¨ Ø£ÙˆÙ„ Ø¹Ù…ÙŠÙ„.",
            "image": "images/book1.jpg", // ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ØµÙˆØ±Ø©
            "category": "Ø¹Ù…Ù„ Ø­Ø±",
            "giftInfo": "Ù‡ØªØªØ¹Ù„Ù… Ø¥Ø²Ø§ÙŠ ØªØ¹Ù…Ù„ Ø¨ÙˆØ±ØªÙÙˆÙ„ÙŠÙˆ Ù‚ÙˆÙŠØŒ ÙˆØ¥Ø²Ø§ÙŠ ØªØ³Ø¹Ø± Ø´ØºÙ„ÙƒØŒ ÙˆØ£Ù‡Ù… Ù…Ù†ØµØ§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø±.",
            "downloadUrl": " Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù‡Ù†Ø§ ", // Ø£Ùˆ Ø±Ø§Ø¨Ø· Ø¬ÙˆØ¬Ù„ Ø¯Ø±Ø§ÙŠÙ
            "telegramUrl": "https://t.me/Kmshkat"
          },
          {
            "id": 2,
            "title": "Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø¬Ø±Ø§ÙÙŠÙƒ Ø¯ÙŠØ²Ø§ÙŠÙ†",
            "description": "ÙƒØªØ§Ø¨ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ø¨ÙŠØ´Ø±Ø­ Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (Ø§Ù„Ø£Ù„ÙˆØ§Ù†ØŒ Ø§Ù„ØªÙˆØ§Ø²Ù†ØŒ Ø§Ù„ØªØ¨Ø§ÙŠÙ†).",
            "image": "images/book2.jpg",
            "category": "ØªØµÙ…ÙŠÙ…",
            "giftInfo": "Ø´Ø±Ø­ Ù…Ø¨Ø³Ø· Ù„Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„ÙŠ Ø¨ØªØ®Ù„ÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø´ÙƒÙ„Ù‡ Ø§Ø­ØªØ±Ø§ÙÙŠØŒ Ù…Ø¹ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©.",
            "downloadUrl": "#",
            "telegramUrl": "https://t.me/Kmshkat"
          }
        ];


        // --- Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© ---
        let currentCourseCategory = 'Ø§Ù„ÙƒÙ„';
        let currentCourseSearch = '';
        
        let currentArticleCategory = 'Ø§Ù„ÙƒÙ„';
        let currentArticleSearch = '';

        let currentBookCategory = 'Ø§Ù„ÙƒÙ„';
        let currentBookSearch = '';

        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            showPage('home'); 
            initGallery();
            
            initCourses();
            initArticles(); 
            initBooks(); // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙƒØªØ¨
            
            startCounterAnimation();
            
            checkUrlForArticle();
            checkUrlForImage();
        });

        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(sec => {
                sec.classList.add('hidden-section');
                sec.classList.remove('fade-in');
            });
            const activeSec = document.getElementById(pageId);
            if(activeSec) {
                activeSec.classList.remove('hidden-section');
                setTimeout(() => activeSec.classList.add('fade-in'), 10);
            }
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.page === pageId) {
                    btn.classList.add('bg-emerald-100', 'text-emerald-900');
                    btn.classList.remove('text-white', 'hover:bg-emerald-700');
                    if(btn.parentElement.classList.contains('bg-emerald-800/40')) {
                        btn.classList.add('bg-white/90', 'text-emerald-900');
                        btn.classList.remove('bg-emerald-100');
                    }
                } else {
                    btn.classList.remove('bg-emerald-100', 'text-emerald-900', 'bg-white/90');
                    btn.classList.add('text-white');
                }
            });
            // Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØ±Ø¯ÙŠØ©
            if (pageId === 'article-view' || pageId === 'book-view') {
                 // Ù…Ù…ÙƒÙ† Ù‡Ù†Ø§ Ù†Ø¹Ù…Ù„ Reset Ù„Ù„Ù†Ø§ÙØ¨Ø§Ø± Ù„Ùˆ Ø­Ø§Ø¨Ø¨
            }
            document.getElementById('mobile-menu').classList.add('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }
        
        // ... (Ø¯ÙˆØ§Ù„ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„Ù„Ø§ÙŠØª Ø¨ÙˆÙƒØ³ ÙƒÙ…Ø§ Ù‡ÙŠ) ...
        // (Ø§Ø®ØªØµØ§Ø±Ø§Ù‹ Ù„Ù„ÙƒÙˆØ¯ØŒ Ø§ÙØªØ±Ø¶ ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù‡Ù†Ø§: downloadImage, shareImage, copyToClipboard, toggleHeart, openLightbox, closeLightbox)
        async function downloadImage(url, filename) { /* ... */ }
        async function shareImage(url, id) { /* ... */ }
        function copyToClipboard(text) { /* ... */ }
        function toggleHeart(btn, id) { /* ... */ }
        function toggleArticleHeart(btn, id) { /* ... */ }
        async function shareArticle(id, title) { /* ... */ }
        function checkUrlForArticle() { /* ... */ }
        function checkUrlForImage() { /* ... */ }
        function openLightbox(imgUrl) { /* ... */ }
        function closeLightbox() { /* ... */ }


        // --- Ø¯ÙˆØ§Ù„ Ø§Ù„ÙƒØªØ¨ (Library Logic) ---
        function initBooks() {
            generateBookCategoryButtons();
            renderBooks(booksData);
        }

        function generateBookCategoryButtons() {
            const categories = ['Ø§Ù„ÙƒÙ„', ...new Set(booksData.map(b => b.category || 'Ø¹Ø§Ù…'))];
            const filterContainer = document.getElementById('library-category-filters');
            filterContainer.innerHTML = '';
            
            categories.forEach(cat => {
                const btn = document.createElement('button');
                btn.className = `filter-btn ${cat==='Ø§Ù„ÙƒÙ„'?'active':''} px-6 py-2 rounded-full border border-slate-200 bg-white text-slate-700 font-bold hover:bg-slate-50 transition-colors flex-shrink-0 shadow-sm`;
                btn.innerText = cat;
                btn.onclick = () => filterBooksByCategory(cat);
                filterContainer.appendChild(btn);
            });
        }

        function filterBooksByCategory(category) {
            currentBookCategory = category;
            updateFilterButtons('library-category-filters', category);
            applyBookFilters();
        }

        function filterBooks() {
            currentBookSearch = document.getElementById('library-search-input').value.toLowerCase();
            applyBookFilters();
        }

        function applyBookFilters() {
            const filtered = booksData.filter(book => {
                const matchesCategory = currentBookCategory === 'Ø§Ù„ÙƒÙ„' || (book.category || 'Ø¹Ø§Ù…') === currentBookCategory;
                const matchesSearch = book.title.toLowerCase().includes(currentBookSearch) || 
                                      book.description.toLowerCase().includes(currentBookSearch);
                return matchesCategory && matchesSearch;
            });
            renderBooks(filtered);
        }

        function renderBooks(books) {
            const container = document.getElementById('library-grid');
            container.innerHTML = '';
            
            if (books.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-12 text-slate-400">
                        <i data-lucide="search-x" class="w-16 h-16 mx-auto mb-4 opacity-50"></i>
                        <p class="text-xl">Ù…ÙÙŠØ´ ÙƒØªØ¨ Ø¨ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
                    </div>`;
                lucide.createIcons();
                return;
            }

            books.forEach(book => {
                const html = `
                    <div class="solid-card p-6 rounded-3xl hover:translate-y-[-4px] transition-transform duration-300 group flex flex-col">
                        <div class="w-full h-64 bg-slate-100 rounded-2xl overflow-hidden mb-4 relative">
                            <img src="${book.image}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" 
                                 onerror="this.src='https://placehold.co/400x600/064e3b/ffffff?text=Book'">
                            <span class="absolute top-3 right-3 bg-blue-500 text-white text-xs px-3 py-1 rounded-full font-bold shadow-md">${book.category}</span>
                        </div>
                        <h3 class="text-xl font-bold text-slate-800 mb-2">${book.title}</h3>
                        <p class="text-slate-500 text-sm mb-4 line-clamp-2 flex-1">${book.description}</p>
                        <button onclick="openBook(${book.id})" class="w-full bg-slate-50 text-slate-700 font-bold py-3 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition border border-slate-200 flex items-center justify-center gap-2">
                            Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ <i data-lucide="arrow-left" class="w-4 h-4"></i>
                        </button>
                    </div>`;
                container.insertAdjacentHTML('beforeend', html);
            });
            lucide.createIcons();
        }

        function openBook(id) {
            const book = booksData.find(b => b.id === id);
            if (!book) return;

            document.getElementById('book-view-title').innerText = book.title;
            document.getElementById('book-view-category').innerText = book.category;
            document.getElementById('book-view-description').innerText = book.description;
            document.getElementById('book-view-gift-info').innerText = book.giftInfo || "ÙƒØªØ§Ø¨ Ù‡Ø¯ÙŠØ© Ù…Ù† ÙƒÙ…Ø´ÙƒØ§Ø©";
            
            const imgEl = document.getElementById('book-view-image');
            imgEl.src = book.image;
            imgEl.onerror = function() { this.src = 'https://placehold.co/400x600/064e3b/ffffff?text=Book+Cover'; };
            
            document.getElementById('book-download-btn').href = book.downloadUrl;
            document.getElementById('book-telegram-btn').href = book.telegramUrl;

            showPage('book-view');
        }


        // ... (Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„: openArticle, initCourses, initArticles, updateFilterButtons, initGallery, loadMoreImages, startCounterAnimation) ...
        // (ØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø³Ø® Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙƒØ§Ù…Ù„Ø© Ù‡Ù†Ø§ Ù„ÙŠØ¹Ù…Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­)

        function openArticle(id) {
            // ... (Ù†ÙØ³ ÙƒÙˆØ¯ openArticle Ø§Ù„Ø³Ø§Ø¨Ù‚) ...
            const article = articlesData.find(a => a.id === id);
            if (!article) return;
            document.getElementById('article-view-title').innerText = article.title;
            document.getElementById('article-view-category').innerText = article.category || 'Ø¹Ø§Ù…';
            const dateEl = document.getElementById('article-view-date');
            if (dateEl && article.date) { dateEl.innerText = article.date; dateEl.style.display = 'inline-block'; } 
            else if (dateEl) { dateEl.style.display = 'none'; }
            const formattedContent = article.content ? article.content.replace(/\n/g, '<br>') : article.excerpt;
            document.getElementById('article-view-content').innerHTML = `<p>${formattedContent}</p>`;
            const imgEl = document.getElementById('article-view-image');
            imgEl.src = article.image;
            imgEl.onerror = function() { this.src = 'https://placehold.co/800x400/064e3b/ffffff?text=Article+Image'; };
            const shareBtn = document.getElementById('article-share-btn');
            const heartBtn = document.getElementById('article-heart-btn');
            shareBtn.onclick = () => shareArticle(article.id, article.title);
            const heartCount = localStorage.getItem(`article_heart_count_${article.id}`) || "0";
            const userLiked = localStorage.getItem(`article_user_liked_${article.id}`);
            heartBtn.innerHTML = `<i data-lucide="heart" class="w-5 h-5 ${userLiked ? 'heart-active fill-red-500' : ''}"></i> <span class="text-sm font-bold ml-1">${heartCount}</span>`;
            if (userLiked) heartBtn.classList.add('text-red-500'); else heartBtn.classList.remove('text-red-500');
            heartBtn.onclick = () => toggleArticleHeart(heartBtn, article.id);
            lucide.createIcons();
            showPage('article-view');
            history.pushState(null, null, `#article-${id}`);
        }
        
        // ... (Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„ÙƒÙˆØ±Ø³Ø§Øª ÙˆØ§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙˆØ§Ù„Ø¬Ø§Ù„ÙŠØ±ÙŠ ÙˆØ§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø© Ù‡Ù†Ø§)
        // Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ Ù„Ù… ØªØ­Ø°Ù Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (initCourses, renderCourses, initArticles, renderArticles, initGallery, loadMoreImages, startCounterAnimation, updateFilterButtons)
        
        // (Ø£Ø¹ÙŠØ¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ù†Ø³Ø® Ø§Ù„ÙƒØ§Ù…Ù„)
        function initCourses() { generateCourseCategoryButtons(); renderCourses(coursesData); }
        function generateCourseCategoryButtons() {
            const categories = ['Ø§Ù„ÙƒÙ„', ...new Set(coursesData.map(c => c.category || 'Ø£Ø®Ø±Ù‰'))];
            const filterContainer = document.getElementById('course-category-filters');
            filterContainer.innerHTML = '';
            categories.forEach(cat => {
                const btn = document.createElement('button');
                btn.className = `filter-btn ${cat==='Ø§Ù„ÙƒÙ„'?'active':''} px-6 py-2 rounded-full border border-white/50 bg-white/70 backdrop-blur text-slate-700 font-bold hover:bg-white transition-colors flex-shrink-0 shadow-sm`;
                btn.innerText = cat;
                btn.onclick = () => filterCoursesByCategory(cat);
                filterContainer.appendChild(btn);
            });
        }
        function filterCoursesByCategory(category) { currentCourseCategory = category; updateFilterButtons('course-category-filters', category); applyCourseFilters(); }
        function filterCourses() { currentCourseSearch = document.getElementById('course-search-input').value.toLowerCase(); applyCourseFilters(); }
        function applyCourseFilters() {
            const filtered = coursesData.filter(course => {
                const matchesCategory = currentCourseCategory === 'Ø§Ù„ÙƒÙ„' || (course.category || 'Ø£Ø®Ø±Ù‰') === currentCourseCategory;
                const matchesSearch = course.title.toLowerCase().includes(currentCourseSearch) || course.description.toLowerCase().includes(currentCourseSearch);
                return matchesCategory && matchesSearch;
            });
            renderCourses(filtered);
        }
        function renderCourses(courses) {
            const container = document.getElementById('courses-grid');
            container.innerHTML = ''; 
            if (courses.length === 0) { container.innerHTML = `<div class="col-span-full text-center py-12 text-slate-400"><p class="text-xl">Ù…ÙÙŠØ´ ÙƒÙˆØ±Ø³Ø§Øª Ø¨ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ Ø­Ø§Ù„ÙŠØ§Ù‹.</p></div>`; return; }
            courses.forEach(course => {
                const categoryTag = course.category ? `<span class="absolute top-4 right-4 bg-emerald-600/90 text-white text-xs px-3 py-1 rounded-full shadow-sm z-10 backdrop-blur-sm">${course.category}</span>` : '';
                const dateTag = course.date ? `<div class="text-xs text-slate-500 mt-2 mb-1 flex items-center gap-1"><i data-lucide="calendar" class="w-3 h-3"></i> ${course.date}</div>` : '';
                const html = `<div class="glass-panel rounded-2xl overflow-hidden transition-all duration-300 hover:-translate-y-1 flex flex-col h-full group relative">
                        ${categoryTag}
                        <div class="h-52 overflow-hidden bg-slate-200 relative"><img src="${course.image}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700" onerror="this.src='https://placehold.co/600x400/064e3b/ffffff?text=Course'"></div>
                        <div class="p-6 flex flex-col flex-1">${dateTag}<h3 class="text-xl font-bold text-slate-800 mb-3 leading-snug">${course.title}</h3><p class="text-slate-500 text-sm mb-6 flex-1 leading-relaxed">${course.description}</p><div class="flex gap-2 mt-auto"><a href="${course.url}" target="_blank" class="flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold text-center hover:bg-emerald-700 transition shadow-md text-sm flex items-center justify-center gap-2">Ø§Ø´ØªØ±Ùƒ Ù…Ø¬Ø§Ù†Ø§Ù‹ <i data-lucide="external-link" class="w-4 h-4"></i></a><button onclick="shareCourse('${course.url}', '${course.title}')" class="bg-emerald-50 text-emerald-600 px-3 py-2.5 rounded-xl hover:bg-emerald-100 transition border border-emerald-100" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ÙƒÙˆØ±Ø³"><i data-lucide="share-2" class="w-5 h-5"></i></button></div></div></div>`;
                container.insertAdjacentHTML('beforeend', html);
            });
            lucide.createIcons();
        }

        function initArticles() { generateArticleCategoryButtons(); renderArticles(articlesData); }
        function generateArticleCategoryButtons() {
            const categories = ['Ø§Ù„ÙƒÙ„', ...new Set(articlesData.map(a => a.category || 'Ø¹Ø§Ù…'))];
            const filterContainer = document.getElementById('article-category-filters');
            filterContainer.innerHTML = '';
            categories.forEach(cat => {
                const btn = document.createElement('button');
                btn.className = `filter-btn ${cat==='Ø§Ù„ÙƒÙ„'?'active':''} px-6 py-2 rounded-full border border-slate-200 bg-white text-slate-700 font-bold hover:bg-slate-50 transition-colors flex-shrink-0 shadow-sm`;
                btn.innerText = cat;
                btn.onclick = () => filterArticlesByCategory(cat);
                filterContainer.appendChild(btn);
            });
        }
        function filterArticlesByCategory(category) { currentArticleCategory = category; updateFilterButtons('article-category-filters', category); applyArticleFilters(); }
        function filterArticles() { currentArticleSearch = document.getElementById('article-search-input').value.toLowerCase(); applyArticleFilters(); }
        function applyArticleFilters() {
            const filtered = articlesData.filter(article => {
                const matchesCategory = currentArticleCategory === 'Ø§Ù„ÙƒÙ„' || (article.category || 'Ø¹Ø§Ù…') === currentArticleCategory;
                const matchesSearch = article.title.toLowerCase().includes(currentArticleSearch) || article.excerpt.toLowerCase().includes(currentArticleSearch) || (article.author && article.author.toLowerCase().includes(currentArticleSearch));
                return matchesCategory && matchesSearch;
            });
            renderArticles(filtered);
        }
        function renderArticles(articles) {
            const container = document.getElementById('articles-grid');
            container.innerHTML = '';
            if (articles.length === 0) { container.innerHTML = `<div class="col-span-full text-center py-12 text-slate-400"><p class="text-xl">Ù…ÙÙŠØ´ Ù…Ù‚Ø§Ù„Ø§Øª Ø¨ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ Ø­Ø§Ù„ÙŠØ§Ù‹.</p></div>`; return; }
            articles.forEach(article => {
                const categoryBadge = article.category ? `<span class="bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded-md font-bold mb-2 inline-block">${article.category}</span>` : '';
                const dateTag = article.date ? `<span class="text-xs text-slate-400 block mb-2">${article.date}</span>` : '';
                const html = `<div class="solid-card p-6 rounded-3xl flex flex-col md:flex-row gap-6 items-center hover:translate-y-[-4px] transition-transform duration-300 group"><div class="w-full md:w-56 h-40 bg-slate-200 rounded-2xl overflow-hidden flex-shrink-0 relative"><img src="${article.image}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" onerror="this.src='https://placehold.co/400x300/064e3b/ffffff?text=Article'"></div><div class="flex-1 text-center md:text-right"><div class="flex justify-between items-start mb-1">${categoryBadge}${dateTag}</div><h3 class="text-2xl font-bold text-slate-800 mb-2 group-hover:text-emerald-700 transition-colors">${article.title}</h3><p class="text-slate-500 leading-relaxed mb-4 text-sm md:text-base line-clamp-2">${article.excerpt}</p><div class="flex justify-between items-center"><span class="text-xs text-slate-400 flex items-center gap-1"><i data-lucide="user" class="w-3 h-3"></i> ${article.author || 'Ù…ØµØ·ÙÙ‰ ÙƒÙ…Ø´ÙƒØ§Ø©'}</span><button onclick="openArticle(${article.id})" class="inline-flex items-center text-emerald-600 font-bold hover:text-emerald-800 transition gap-2 text-sm">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯ <i data-lucide="arrow-left" class="w-4 h-4"></i></button></div></div></div>`;
                container.insertAdjacentHTML('beforeend', html);
            });
            lucide.createIcons();
        }

        function updateFilterButtons(containerId, activeCategory) {
            const container = document.getElementById(containerId);
            const isCourses = containerId === 'course-category-filters';
            container.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.innerText === activeCategory) {
                    btn.classList.add('active');
                    if(isCourses) { btn.classList.remove('bg-white/80', 'text-slate-700'); } else { btn.classList.remove('bg-white', 'text-slate-700'); }
                    btn.classList.add('text-white');
                } else {
                    btn.classList.remove('active', 'text-white');
                     if(isCourses) { btn.classList.add('bg-white/80', 'text-slate-700'); } else { btn.classList.add('bg-white', 'text-slate-700'); }
                }
            });
        }

        function initGallery() { loadMoreImages(); }
        let currentImageCount = 0; const totalImages = 1000; const imagesPerLoad = 20;
        function loadMoreImages() {
            const container = document.getElementById('gallery-grid');
            const status = document.getElementById('gallery-status');
            const btn = document.getElementById('load-more-btn');
            const nextLimit = Math.min(currentImageCount + imagesPerLoad, totalImages);
            for (let i = currentImageCount + 1; i <= nextLimit; i++) {
                const imgUrl = `images/stock${i}.jpg`;
                const imgName = `kameshkah_design_${i}.jpg`;
                const heartCount = localStorage.getItem(`heart_count_${i}`) || "";
                const userLiked = localStorage.getItem(`user_liked_${i}`) ? "text-red-500" : "text-white";
                const heartIconClass = localStorage.getItem(`user_liked_${i}`) ? "heart-active" : "";
                const imgHTML = `<div class="glass-panel group relative overflow-hidden rounded-2xl mb-6 break-inside-avoid"><div class="w-full relative cursor-pointer" onclick="openLightbox('${imgUrl}')"><img src="${imgUrl}" class="w-full h-auto object-cover rounded-2xl" loading="lazy" onerror="this.src='https://placehold.co/600x800/064e3b/ffffff?text=ØªØµÙ…ÙŠÙ…+${i}'"><div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3 rounded-2xl"><span class="text-white font-bold translate-y-4 group-hover:translate-y-0 transition-transform">ØªØµÙ…ÙŠÙ… Ø±Ù‚Ù… ${i}</span><div class="bg-white text-emerald-800 px-6 py-2 rounded-full font-bold flex items-center gap-2 hover:bg-emerald-500 hover:text-white transition-colors transform translate-y-4 group-hover:translate-y-0 transition-all delay-75 shadow-lg"><i data-lucide="zoom-in" class="w-4 h-4"></i> ØªÙƒØ¨ÙŠØ±</div></div><div class="absolute top-2 right-2 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity" onclick="event.stopPropagation()"><button onclick="toggleHeart(this, ${i})" class="bg-black/50 backdrop-blur p-2 rounded-full hover:bg-white hover:text-red-500 transition ${userLiked} shadow-md" title="Ø£Ø­Ø¨Ø¨ØªÙ‡"><i data-lucide="heart" class="w-5 h-5 ${heartIconClass}"></i> <span class="text-xs font-bold ml-1">${heartCount}</span></button><button onclick="shareImage('${imgUrl}', ${i})" class="bg-black/50 backdrop-blur p-2 rounded-full text-white hover:bg-white hover:text-blue-500 transition shadow-md" title="Ù…Ø´Ø§Ø±ÙƒØ©"><i data-lucide="share-2" class="w-5 h-5"></i></button></div></div><div class="md:hidden p-3 border-t border-slate-100 flex justify-between items-center bg-slate-50/50"><div class="flex gap-3"><button onclick="toggleHeart(this, ${i})" class="${userLiked} flex items-center gap-1"><i data-lucide="heart" class="w-5 h-5 ${heartIconClass}"></i> <span class="text-xs font-bold">${heartCount}</span></button><button onclick="shareImage('${imgUrl}', ${i})" class="text-slate-600 hover:text-blue-500"><i data-lucide="share-2" class="w-5 h-5"></i></button></div><button onclick="downloadImage('${imgUrl}', '${imgName}')" class="text-emerald-600 bg-white p-2 rounded-lg border border-slate-200 shadow-sm"><i data-lucide="download" class="w-5 h-5"></i></button></div></div>`;
                container.insertAdjacentHTML('beforeend', imgHTML);
            }
            currentImageCount = nextLimit;
            status.innerText = `ØªÙ… Ø¹Ø±Ø¶ ${currentImageCount} Ù…Ù† ${totalImages} ØµÙˆØ±Ø©`;
            if (currentImageCount >= totalImages) { btn.disabled = true; btn.innerHTML = '<span>ØªÙ… ØªØ­Ù…ÙŠÙ„ ÙƒÙ„ Ø§Ù„ØµÙˆØ±</span>'; btn.classList.add('opacity-50', 'cursor-not-allowed'); }
            lucide.createIcons();
        }

        function startCounterAnimation() {
            const counters = document.querySelectorAll('.counter');
            const speed = 200; 
            counters.forEach(counter => {
                const animate = () => {
                    const value = +counter.getAttribute('data-target');
                    const data = +counter.innerText;
                    const time = value / speed;
                    if(data < value) { counter.innerText = Math.ceil(data + time); setTimeout(animate, 20); } else { counter.innerText = value; }
                }
                const observer = new IntersectionObserver((entries) => { if(entries[0].isIntersecting) { animate(); observer.disconnect(); } });
                observer.observe(counter);
            });
        }
    </script>
</body>
</html>